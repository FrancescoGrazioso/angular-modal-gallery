<fg-plain-gallery [images]="images"
                  [showGallery]="showGallery && isPlainGalleryVisible()"
                  [plainGalleryConfig]="plainGalleryConfig"
                  [accessibilityConfig]="accessibilityConfig"
                  (show)="onShowModalGallery($event)"></fg-plain-gallery>

<fg-background [isOpen]="opened"
               [accessibilityConfig]="accessibilityConfig"></fg-background>

<div id="modal-gallery-wrapper" *ngIf="opened"
     [attr.aria-label]="accessibilityConfig.modalGalleryContentAriaLabel"
     [title]="accessibilityConfig.modalGalleryContentTitle"
     fgClickOutside [clickOutsideEnable]="enableCloseOutside"
     (clickOutside)="onClickOutside($event)">

  <div id="flex-min-height-ie-fix">
    <div id="modal-gallery-container">

      <fg-upper-buttons [currentImage]="currentImage"
                        [buttonsConfig]="buttonsConfig"
                        (delete)="onDelete($event)"
                        (navigate)="onNavigate($event)"
                        (download)="onDownload($event)"
                        (close)="onCloseGallery($event)"
                        (fullscreen)="onFullScreen($event)"
                        (customEmit)="onCustomEmit($event)"></fg-upper-buttons>

      <fg-current-image [images]="images"
                        [currentImage]="currentImage"
                        [isOpen]="opened"
                        [slideConfig]="slideConfig"
                        [keyboardConfig]="keyboardConfig"
                        [accessibilityConfig]="accessibilityConfig"
                        [currentImageConfig]="currentImageConfig"
                        (loadImage)="onImageLoad($event)"
                        (changeImage)="onChangeCurrentImage($event)"
                        (close)="onCloseGallery($event)"></fg-current-image>

      <div>
        <fg-dots [images]="images"
                 [currentImage]="currentImage"
                 [dotsConfig]="dotsConfig"
                 [accessibilityConfig]="accessibilityConfig"
                 (clickDot)="onClickDot($event)"></fg-dots>

        <fg-previews [images]="images"
                     [currentImage]="currentImage"
                     [previewConfig]="previewConfig"
                     [accessibilityConfig]="accessibilityConfig"
                     (clickPreview)="onClickPreview($event)"></fg-previews>
      </div>
    </div>
  </div>
</div>
